@model GiacenzaSorterRm.Pages.PagesRiepilogoBancali.IndexModel

@{
    Layout = null;
}




<div class="col-xs-6 center">

    @if (!string.IsNullOrEmpty(Model.Message))
    {
        <div class="alert alert-danger" role="alert">
            @Model.Message
        </div>
    }

</div>

@if (Model.LstBancaleView.Count > 0)
{


<form id="formRiepilogo" method="post" style="width:100%"
      data-ajax="true"
      data-ajax-method="post"
      data-ajax-update="#dvReport"
      data-ajax-mode="replace"
      data-ajax-url="?handler=elimina"
      data-ajax-success="OnSuccessRequest">

    @if ((User.IsInRole("ADMIN") || User.IsInRole("SUPERVISOR")))
    {

        <input type="submit" id="btnElimina" hidden />
    }


    <table class="table table-striped table-bordered nowrap display compact table-sm" style="width:100%" id="tableProduzione" tabindex="-1">
        <thead>
            <tr>
                <th class='notexport'>
                    <!-- select all boxes -->
                    @if ((User.IsInRole("ADMIN") || User.IsInRole("SUPERVISOR")))
                    {
                        <input type="checkbox" id="checkAll" class="checkAll" />
                    }

                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].Bancale)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].DataArrivoBancale)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].DataSorter)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].DataPrevistaFineSLa)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].Note)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].Commessa)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LstBancaleView[0].CentroArrivo)
                </th>

                <th class='notexport'></th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.LstBancaleView)
            {
            <tr>
                <td>

                    @if ((User.IsInRole("ADMIN") || User.IsInRole("SUPERVISOR")))
                    {

                        <input type="hidden" name="LstBancaleView.Index" value="@item.IdBancale" />
                        <input type="hidden" name="LstBancaleView[@item.IdBancale].IdBancale" value="@item.IdBancale" />
                        <input type="hidden" name="LstBancaleView[@item.IdBancale].Bancale" value="@item.Bancale" />
                        <input name="LstBancaleView[@item.IdBancale].Elimina" type="checkbox" class="checkbox" value="true" />

                    }

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Bancale)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DataArrivoBancale)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DataSorter)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DataPrevistaFineSLa)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Note)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Commessa)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CentroArrivo)
                </td>
                <td>

                    @if (User.FindFirst("Azienda").Value == "POSTEL" && ((User.IsInRole("ADMIN") || (User.IsInRole("SUPERVISOR")))))
                    {
                        <a asp-page="./Edit" asp-route-id="@item.IdBancale">Modifica</a>

                    }

                </td>
            </tr>
            }
        </tbody>
    </table>

    <input asp-for="EndDate" type="hidden" class="form-control" />
    <input asp-for="StartDate" type="hidden" class="form-control" />
    <input asp-for="Option" type="hidden" class="form-control" />

</form>


}

<script>
    $(document).ready(function () {
        $('.dataTables_filter input[type="search"]').css(
            { 'width': '350px', 'display': 'inline-block' }
        );
    });

</script>




